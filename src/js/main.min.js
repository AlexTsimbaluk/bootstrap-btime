!function(t){function e(e,n){console.log("constructor:begin"),this.config=t.extend({},i,n),this.$element=t(e);var a=this;this.$element.on("change",function(t){console.log(this),console.log(a),a.checkBtime()}),this.init(),console.log("constructor:end")}var i={};e.prototype.init=function(){console.log("init:begin");var e=this,i=new Date;i.setSeconds(0),i.setMinutes(i.getMinutes()-i.getMinutes()%e.config.step);var n=new Date(i.getTime()+864e5),a=new Date(i.getTime()+60*e.config.min*1e3);a.setMinutes(a.getMinutes()-a.getMinutes()%e.config.step);for(var o=new Date(a.getTime()+60*(e.config.max-e.config.min)*1e3),r=[],s=a.getTime(),c=o.getTime(),l=864e5;s<c;s+=l)r.push(new Date(s));for(e.rfc_date(r[r.length-1])!=e.rfc_date(o)&&r.push(o);;){var f=t("#"+e.config.dateSelector).find("option:first");if(!f.length)break;if(f.val()>=e.rfc_date(r[0]))break;f.remove()}for(var g=0;g<r.length;g++){var d=e.rfc_date(r[g]),m=t("#"+e.config.dateSelector).find("option:last");if(0===m.length||m.val()<d){var u=t("<option></option>");u.val(d),u.text(r[g].toLocaleDateString()),t("#"+e.config.dateSelector).append(u)}}t.each(t("#"+e.config.dateSelector).find("option"),function(a,o){var r=t(o);switch(r.val()){case e.rfc_date(i):r.text(i.toLocaleDateString()+" ("+e.config.today+")"),r.removeClass("future");break;case e.rfc_date(n):r.text(n.toLocaleDateString()+" ("+e.config.tomorrow+")"),r.addClass("future");break;default:r.addClass("future")}}),t("#"+e.config.dateSelector).val()==e.rfc_date(i)?t("#"+e.config.dateSelector).removeClass("future"):t("#"+e.config.dateSelector).addClass("future"),console.log("init:end")},e.prototype.rfc_date=function(t){var e=t.getFullYear();return e+="-",t.getMonth()<9&&(e+="0"),e+=t.getMonth()+1,e+="-",t.getDate()<10&&(e+="0"),e+=t.getDate()},e.prototype.user_time=function(t){var e="";return t.getHours()<10&&(e+="0"),e+=t.getHours(),e+=":",t.getMinutes()<10&&(e+="0"),e+=t.getMinutes()},e.prototype.rfc_zone=function(t){var e="",i=t.getTimezoneOffset();i<=0?(e+="+",i=-i):e+="-";var n=i%60;return i-=n,i/=60,i<10&&(e+="0"),e+=i,n<10&&(e+="0"),e+=n},e.prototype.rfc_time=function(t){var e=this.user_time(t);return e+=":",t.getSeconds()<10&&(e+="0"),e+=t.getSeconds(),e+=" ",e+=this.rfc_zone(t)},e.prototype.rfc_datetime=function(t){var e=this.rfc_date(t);return e+=" ",e+=this.rfc_time(t)},e.prototype.checkBtime=function(){console.log("checkBtime:begin");var e=t("#"+this.config.target),i=new Date;i.setSeconds(0),i.setMinutes(i.getMinutes()-i.getMinutes()%this.config.step);var n=new Date(i.getTime()+60*this.config.min*1e3);n.setMinutes(n.getMinutes()-n.getMinutes()%this.config.step);var a=new Date(n.getTime()+60*(this.config.max-this.config.min)*1e3);if(!this.$element.val().match(/^\d{2}:\d{2}/))return void e.val("");var o=parseInt(this.$element.val().split(":")[0].replace(/^0/,""),10),r=parseInt(this.$element.val().split(":")[1].replace(/^0/,""),10);if(o>23)return this.$element.val("23:"+this.$element.val().split(":")[1]),this.checkBtime();if(r>59)return this.$element.val(this.$element.val().split(":")[0]+":59"),this.checkBtime();var s=t("#"+this.config.dateSelector).val()+" "+this.$element.val()+":00 "+this.rfc_zone(i);s>this.rfc_datetime(a)?this.$element.val(user_time(a)):s<this.rfc_datetime(n)&&this.$element.val(this.user_time(n)),s=t("#"+this.config.dateSelector).val()+" "+this.$element.val()+":00 "+this.rfc_zone(i),e.val(s),console.log("checkBtime:end")},t.fn.btime=function(){return this.each(function(){var i=t(this),n=i.data("btime");if(!n){var a={target:i.attr("data-target"),dateSelector:i.attr("data-date-selector"),min:i.attr("data-btime-min"),max:i.attr("data-btime-max"),step:i.attr("data-btime-step"),today:i.attr("data-btime-today"),tomorrow:i.attr("data-btime-tomorrow")};i.data("btime",n=new e(this,a))}})}}(jQuery),$(document).ready(function(){$('[data-toggle="btime"]').btime()});var dateStart=(new Date).getTime();$(document).ready(function(){}),$(window).load(function(){var t=(new Date).getTime();console.log(t-dateStart),$(".loader_inner").fadeOut(),$(".loader").delay(400).fadeOut("slow")}),!function(t){function e(e,n){console.log("constructor:begin"),this.config=t.extend({},i,n),this.$element=t(e);var a=this;this.$element.on("change",function(t){console.log(this),console.log(a),a.checkBtime()}),this.init(),console.log("constructor:end")}var i={};e.prototype.init=function(){console.log("init:begin");var e=this,i=new Date;i.setSeconds(0),i.setMinutes(i.getMinutes()-i.getMinutes()%e.config.step);var n=new Date(i.getTime()+864e5),a=new Date(i.getTime()+60*e.config.min*1e3);a.setMinutes(a.getMinutes()-a.getMinutes()%e.config.step);for(var o=new Date(a.getTime()+60*(e.config.max-e.config.min)*1e3),r=[],s=a.getTime(),c=o.getTime(),l=864e5;s<c;s+=l)r.push(new Date(s));for(e.rfc_date(r[r.length-1])!=e.rfc_date(o)&&r.push(o);;){var f=t("#"+e.config.dateSelector).find("option:first");if(!f.length)break;if(f.val()>=e.rfc_date(r[0]))break;f.remove()}for(var g=0;g<r.length;g++){var d=e.rfc_date(r[g]),m=t("#"+e.config.dateSelector).find("option:last");if(0===m.length||m.val()<d){var u=t("<option></option>");u.val(d),u.text(r[g].toLocaleDateString()),t("#"+e.config.dateSelector).append(u)}}t.each(t("#"+e.config.dateSelector).find("option"),function(a,o){var r=t(o);switch(r.val()){case e.rfc_date(i):r.text(i.toLocaleDateString()+" ("+e.config.today+")"),r.removeClass("future");break;case e.rfc_date(n):r.text(n.toLocaleDateString()+" ("+e.config.tomorrow+")"),r.addClass("future");break;default:r.addClass("future")}}),t("#"+e.config.dateSelector).val()==e.rfc_date(i)?t("#"+e.config.dateSelector).removeClass("future"):t("#"+e.config.dateSelector).addClass("future"),console.log("init:end")},e.prototype.rfc_date=function(t){var e=t.getFullYear();return e+="-",t.getMonth()<9&&(e+="0"),e+=t.getMonth()+1,e+="-",t.getDate()<10&&(e+="0"),e+=t.getDate()},e.prototype.user_time=function(t){var e="";return t.getHours()<10&&(e+="0"),e+=t.getHours(),e+=":",t.getMinutes()<10&&(e+="0"),e+=t.getMinutes()},e.prototype.rfc_zone=function(t){var e="",i=t.getTimezoneOffset();i<=0?(e+="+",i=-i):e+="-";var n=i%60;return i-=n,i/=60,i<10&&(e+="0"),e+=i,n<10&&(e+="0"),e+=n},e.prototype.rfc_time=function(t){var e=this.user_time(t);return e+=":",t.getSeconds()<10&&(e+="0"),e+=t.getSeconds(),e+=" ",e+=this.rfc_zone(t)},e.prototype.rfc_datetime=function(t){var e=this.rfc_date(t);return e+=" ",e+=this.rfc_time(t)},e.prototype.checkBtime=function(){console.log("checkBtime:begin");var e=t("#"+this.config.target),i=new Date;i.setSeconds(0),i.setMinutes(i.getMinutes()-i.getMinutes()%this.config.step);var n=new Date(i.getTime()+60*this.config.min*1e3);n.setMinutes(n.getMinutes()-n.getMinutes()%this.config.step);var a=new Date(n.getTime()+60*(this.config.max-this.config.min)*1e3);if(!this.$element.val().match(/^\d{2}:\d{2}/))return void e.val("");var o=parseInt(this.$element.val().split(":")[0].replace(/^0/,""),10),r=parseInt(this.$element.val().split(":")[1].replace(/^0/,""),10);if(o>23)return this.$element.val("23:"+this.$element.val().split(":")[1]),this.checkBtime();if(r>59)return this.$element.val(this.$element.val().split(":")[0]+":59"),this.checkBtime();var s=t("#"+this.config.dateSelector).val()+" "+this.$element.val()+":00 "+this.rfc_zone(i);s>this.rfc_datetime(a)?this.$element.val(user_time(a)):s<this.rfc_datetime(n)&&this.$element.val(this.user_time(n)),s=t("#"+this.config.dateSelector).val()+" "+this.$element.val()+":00 "+this.rfc_zone(i),e.val(s),console.log("checkBtime:end")},t.fn.btime=function(){return this.each(function(){var i=t(this),n=i.data("btime");if(!n){var a={target:i.attr("data-target"),dateSelector:i.attr("data-date-selector"),min:i.attr("data-btime-min"),max:i.attr("data-btime-max"),step:i.attr("data-btime-step"),today:i.attr("data-btime-today"),tomorrow:i.attr("data-btime-tomorrow")};i.data("btime",n=new e(this,a))}})}}(jQuery),$(document).ready(function(){$('[data-toggle="btime"]').btime()});var dateStart=(new Date).getTime();$(document).ready(function(){}),$(window).load(function(){var t=(new Date).getTime();console.log(t-dateStart),$(".loader_inner").fadeOut(),$(".loader").delay(400).fadeOut("slow")});